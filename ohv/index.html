<html>
	<head>
		<title>O Homem Vitruviano</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="w3.css"/>
		<style>

		.medida {
			
		}
		.tdcampo {
			text-align: right !important;
			min-width: 190px;
		}
		#container {
			margin: 0 auto;
			text-align: center;
		}
		#altura {
			text-align: center;
		}
		</style>
		<script>
		var HomemVitruvianoModel = function() {
			this.atualizarAltura = function(altura) {
				this.altura = parseFloat(altura.replace(",", "."));
			}
			this.formatar = function(valor) {
				return (valor + "").replace(".", ",");
			}
			this.getFace = function() {
				return Math.round(this.altura * 1000) / 100;
			}
			this.getPalma = function() {
				return Math.round(this.altura * 1000) / 100;
			}
			this.getCabeca = function() {
				return Math.round((this.altura / 8) * 10000) / 100;
			}
			this.getPescocoCabelo = function() {
				return Math.round((this.altura / 6) * 10000) / 100;
			}
			this.getCabeloPeito = function() {
				return Math.round((this.altura / 7) * 10000) / 100;
			}
			this.getPeitoCabeca = function() {
				return Math.round((this.altura / 4) * 10000) / 100;
			}
			this.getPe = function() {
				return Math.round((this.altura / 6) * 10000) / 100;
			}
			this.getPeito = function() {
				return Math.round((this.altura / 4) * 10000) / 100;
			}
			this.getBracosAbertos = function() {
				return Math.round(this.altura * 10000) / 100;
			}
			this.getQueixoNarinas = function() {
				return Math.round((this.getFace() / 3) * 100) / 100;
			}
			this.getNariz = function() {
				return Math.round((this.getFace() / 3) * 100) / 100;
			}
			this.getOrelha = function() {
				return Math.round((this.getFace() / 3) * 100) / 100;
			}
			this.getTesta = function() {
				return Math.round((this.getFace() / 3) * 100) / 100;
			}
			this.getCotoveloMao = function() {
				return Math.round((this.altura / 4) * 10000) / 100;
			}
			this.porcentagem = function(valorReal, valorEstimado) {
				return (valorEstimado * (1 - (Math.abs(valorReal - valorEstimado) / valorEstimado))) * 100;
			}
			this.diferenca = function(valorReal, valorEsperado) {
				valorReal = parseFloat(valorReal.replace(",", "."));
				return Math.round(Math.abs(valorReal - valorEsperado) * 100) / 100;
			}
		}
		function somarArray(valores) {
			var soma = 0;
			for (i in valores) {
				soma += valores[i];
			}
			return Math.round(soma * 100) / 100;
		}
		window.onload = function() {
			var hVM = new HomemVitruvianoModel();
			
			var face = document.getElementById("face");
			var altura = document.getElementById("altura");
			var palma = document.getElementById("palma");
			var cabeca = document.getElementById("cabeca");
			var cabeloPeito = document.getElementById("cabeloPeito");
			var pescocoCabelo = document.getElementById("pescocoCabelo");
			var peitoCabeca = document.getElementById("peitoCabeca");
			var pe = document.getElementById("pe");
			var peito = document.getElementById("peito");
			var bracosAbertos = document.getElementById("bracosAbertos");
			var queixoNarinas = document.getElementById("queixoNarinas");
			var orelha = document.getElementById("orelha");
			var nariz = document.getElementById("nariz");
			var testa = document.getElementById("testa");
			var cotoveloMao = document.getElementById("cotoveloMao");
			
			var faceReal = document.getElementById("faceReal");
			var palmaReal = document.getElementById("palmaReal");
			var cabecaReal = document.getElementById("cabecaReal");
			var cabeloPeitoReal = document.getElementById("cabeloPeitoReal");
			var pescocoCabeloReal = document.getElementById("pescocoCabeloReal");
			var peitoCabecaReal = document.getElementById("peitoCabecaReal");
			var peReal = document.getElementById("peReal");
			var peitoReal = document.getElementById("peitoReal");
			var bracosAbertosReal = document.getElementById("bracosAbertosReal");
			var queixoNarinasReal = document.getElementById("queixoNarinasReal");
			var orelhaReal = document.getElementById("orelhaReal");
			var narizReal = document.getElementById("narizReal");
			var testaReal = document.getElementById("testaReal");
			var cotoveloMaoReal = document.getElementById("cotoveloMaoReal");
			
			var faceDiferenca = document.getElementById("faceDiferenca");
			var palmaDiferenca = document.getElementById("palmaDiferenca");
			var cabecaDiferenca = document.getElementById("cabecaDiferenca");
			var cabeloPeitoDiferenca = document.getElementById("cabeloPeitoDiferenca");
			var pescocoCabeloDiferenca = document.getElementById("pescocoCabeloDiferenca");
			var peitoCabecaDiferenca = document.getElementById("peitoCabecaDiferenca");
			var peDiferenca = document.getElementById("peDiferenca");
			var peitoDiferenca = document.getElementById("peitoDiferenca");
			var bracosAbertosDiferenca = document.getElementById("bracosAbertosDiferenca");
			var queixoNarinasDiferenca = document.getElementById("queixoNarinasDiferenca");
			var orelhaDiferenca = document.getElementById("orelhaDiferenca");
			var narizDiferenca = document.getElementById("narizDiferenca");
			var testaDiferenca = document.getElementById("testaDiferenca");
			var cotoveloMaoDiferenca = document.getElementById("cotoveloMaoDiferenca");
			
			var totalEsperado = document.getElementById("totalEsperado");
			var totalDiferenca = document.getElementById("totalDiferenca");
			var porcentagemPerfeicao = document.getElementById("porcentagemPerfeicao");
			
			var calcular = document.getElementById("calcular");
			var limpar = document.getElementById("limpar");
			
			calcular.addEventListener("click", function() {
				var valoresEsperados = [];
				var valoresDiferentes = [];
				
				hVM.atualizarAltura(altura.value);
				
				face.innerHTML = hVM.formatar(hVM.getFace()) + " cm";
				valoresEsperados.push(hVM.getFace());
				palma.innerHTML = hVM.formatar(hVM.getPalma()) + " cm";
				valoresEsperados.push(hVM.getPalma());
				cabeca.innerHTML = hVM.formatar(hVM.getCabeca()) + " cm";
				valoresEsperados.push(hVM.getCabeca());
				cabeloPeito.innerHTML = hVM.formatar(hVM.getCabeloPeito()) + " cm";
				valoresEsperados.push(hVM.getCabeloPeito());
				pescocoCabelo.innerHTML = hVM.formatar(hVM.getPescocoCabelo()) + " cm";
				valoresEsperados.push(hVM.getPescocoCabelo());
				peitoCabeca.innerHTML = hVM.formatar(hVM.getPeitoCabeca()) + " cm";
				valoresEsperados.push(hVM.getPeitoCabeca());
				pe.innerHTML = hVM.formatar(hVM.getPe()) + " cm";
				valoresEsperados.push(hVM.getPe());
				peito.innerHTML = hVM.formatar(hVM.getPeito()) + " cm";
				valoresEsperados.push(hVM.getPeito());
				bracosAbertos.innerHTML = hVM.formatar(hVM.getBracosAbertos()) + " cm";
				valoresEsperados.push(hVM.getBracosAbertos());
				queixoNarinas.innerHTML = hVM.formatar(hVM.getQueixoNarinas()) + " cm";
				valoresEsperados.push(hVM.getQueixoNarinas());
				nariz.innerHTML = hVM.formatar(hVM.getNariz()) + " cm";
				valoresEsperados.push(hVM.getNariz());
				orelha.innerHTML = hVM.formatar(hVM.getOrelha()) + " cm";
				valoresEsperados.push(hVM.getOrelha());
				testa.innerHTML = hVM.formatar(hVM.getTesta()) + " cm";
				valoresEsperados.push(hVM.getTesta());
				cotoveloMao.innerHTML = hVM.formatar(hVM.getCotoveloMao()) + " cm";
				valoresEsperados.push(hVM.getCotoveloMao());
				
				faceDiferenca.innerHTML = hVM.formatar(hVM.diferenca(faceReal.value, hVM.getFace())) + " cm";
				valoresDiferentes.push(hVM.diferenca(faceReal.value, hVM.getFace()));
				palmaDiferenca.innerHTML = hVM.formatar(hVM.diferenca(palmaReal.value, hVM.getPalma())) + " cm";
				valoresDiferentes.push(hVM.diferenca(palmaReal.value, hVM.getPalma()))
				cabecaDiferenca.innerHTML = hVM.formatar(hVM.diferenca(cabecaReal.value, hVM.getCabeca())) + " cm";
				valoresDiferentes.push(hVM.diferenca(cabecaReal.value, hVM.getCabeca()));
				cabeloPeitoDiferenca.innerHTML = hVM.formatar(hVM.diferenca(cabeloPeitoReal.value, hVM.getCabeloPeito())) + " cm";
				valoresDiferentes.push(hVM.diferenca(cabeloPeitoReal.value, hVM.getCabeloPeito()));
				pescocoCabeloDiferenca.innerHTML = hVM.formatar(hVM.diferenca(pescocoCabeloReal.value, hVM.getPescocoCabelo())) + " cm";
				valoresDiferentes.push(hVM.diferenca(pescocoCabeloReal.value, hVM.getPescocoCabelo()));
				peitoCabecaDiferenca.innerHTML = hVM.formatar(hVM.diferenca(peitoCabecaReal.value, hVM.getPeitoCabeca())) + " cm";
				valoresDiferentes.push(hVM.diferenca(peitoCabecaReal.value, hVM.getPeitoCabeca()));
				peDiferenca.innerHTML = hVM.formatar(hVM.diferenca(peReal.value, hVM.getPe())) + " cm";
				valoresDiferentes.push(hVM.diferenca(peReal.value, hVM.getPe()));
				peitoDiferenca.innerHTML = hVM.formatar(hVM.diferenca(peitoReal.value, hVM.getPeito())) + " cm";
				valoresDiferentes.push(hVM.diferenca(peitoReal.value, hVM.getPeito()));
				bracosAbertosDiferenca.innerHTML = hVM.formatar(hVM.diferenca(bracosAbertosReal.value, hVM.getBracosAbertos())) + " cm";
				valoresDiferentes.push(hVM.diferenca(bracosAbertosReal.value, hVM.getBracosAbertos()));
				queixoNarinasDiferenca.innerHTML = hVM.formatar(hVM.diferenca(queixoNarinasReal.value, hVM.getQueixoNarinas())) + " cm";
				valoresDiferentes.push(hVM.diferenca(queixoNarinasReal.value, hVM.getQueixoNarinas()));
				orelhaDiferenca.innerHTML = hVM.formatar(hVM.diferenca(orelhaReal.value, hVM.getOrelha())) + " cm";
				valoresDiferentes.push(hVM.diferenca(orelhaReal.value, hVM.getOrelha()));
				narizDiferenca.innerHTML = hVM.formatar(hVM.diferenca(narizReal.value, hVM.getNariz())) + " cm";
				valoresDiferentes.push(hVM.diferenca(narizReal.value, hVM.getNariz()));
				testaDiferenca.innerHTML = hVM.formatar(hVM.diferenca(testaReal.value, hVM.getTesta())) + " cm";
				valoresDiferentes.push(hVM.diferenca(testaReal.value, hVM.getTesta()));
				cotoveloMaoDiferenca.innerHTML = hVM.formatar(hVM.diferenca(cotoveloMaoReal.value, hVM.getCotoveloMao())) + " cm";
				valoresDiferentes.push(hVM.diferenca(cotoveloMaoReal.value, hVM.getCotoveloMao()));
					
				var tEsperado = somarArray(valoresEsperados);
				var tDiferenca = somarArray(valoresDiferentes);
				var pPerfeicao = Math.round((((tEsperado - tDiferenca) * 100) / tEsperado) * 100) / 100;
				
				totalEsperado.innerHTML = hVM.formatar(tEsperado) + " cm";
				totalDiferenca.innerHTML = hVM.formatar(tDiferenca) + " cm";
				porcentagemPerfeicao.innerHTML = hVM.formatar(pPerfeicao) + " %"				
			});
			limpar.addEventListener("click", function() {
				face.innerHTML = "";
				faceReal.value = "";
				faceDiferenca.innerHTML = "";
				palma.innerHTML = "";
				palmaReal.value = "";
				palmaDiferenca.innerHTML = "";
				cabeca.innerHTML = "";
				cabecaReal.value = "";
				cabecaDiferenca.innerHTML = "";
				cabeloPeito.innerHTML = "";
				cabeloPeitoReal.value = "";
				cabeloPeitoDiferenca.innerHTML = "";
				pescocoCabelo.innerHTML = "";
				pescocoCabeloReal.value = "";
				pescocoCabeloDiferenca.innerHTML = "";
				peitoCabeca.innerHTML = "";
				peitoCabecaReal.value = "";
				peitoCabecaDiferenca.innerHTML = "";
				pe.innerHTML = "";
				peReal.value = "";
				peDiferenca.innerHTML = "";
				peito.innerHTML = "";
				peitoReal.value = "";
				peitoDiferenca.innerHTML = "";
				bracosAbertos.innerHTML = "";
				bracosAbertosReal.value = "";
				bracosAbertosDiferenca.innerHTML = "";
				queixoNarinas.innerHTML = "";
				queixoNarinasReal.value = "";
				queixoNarinasDiferenca.innerHTML = "";
				orelha.innerHTML = "";
				orelhaReal.value = "";
				orelhaDiferenca.innerHTML = "";
				nariz.innerHTML = "";
				narizReal.value = "";
				narizDiferenca.innerHTML = "";
				testa.innerHTML = "";
				testaReal.value = "";
				testaDiferenca.innerHTML = "";
				cotoveloMao.innerHTML = "";
				cotoveloMaoReal.value = "";
				cotoveloMaoDiferenca.innerHTML = "";
				
				altura.value = "";
				totalEsperado.innerHTML = "";
				totalDiferenca.innerHTML = "";
				porcentagemPerfeicao.innerHTML = "";
				altura.focus();
			});
		}
		</script>
	</head>
	<body>
		<div class="w3-container w3-indigo w3-center">
			<h1><b>O HOMEM VITRUVIANO</b></h1>
			<h3>Calculadora de medidas proporcionais</h3>
			<p>
				<small>Equipe: Antonia Lidiane, Ekesia Mikiss, Milton Rodrigues, Antonio Franciano, Rochele Morais</small><br>
				<small>1º Semestre (2017.2) do curso de licenciatura em química - IFCE campus Camocim - CE</small><br>
			</p>
			<div class="w3-container">
				<span class=""><b>Altura corporal (metros)</b></span>
				<input class="w3-input w3-border" type="text" id="altura" style="margin: 10px"autofocus/>
			</div>
		</div>
		<div class="w3-container">
			<table class="w3-table w3-striped w3-borde">
				<tr>
					<th class="w3-center">Parte do corpo</th>
					<th>Valor Ideal <small>(cm)</small></th>
					<th>Valor Real <small>(cm)</small></th>
					<th>Diferença <small>(cm)</small></th>
				</td>
				<tr>
					<td class="tdcampo w3-right">
						Face:<br>
						<small>(Do queixo à raiz do cabelo - 1/10 da altura) </small>						
					</td>
					<td>
						<span class="tdresposta" id="face"></span>
					</td>
					<td>
						<input type="text" id="faceReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="faceDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Palma da mão:<br>
						<small>(Do pulso ao topo do dedo médio - 1/10 da altura) </small>
					</td>
					<td>
						<span class="tdresposta" id="palma"></span>						
					</td>
					<td>
						<input type="text" id="palmaReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="palmaDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Cabeça:<br>
						<small>(Do queixo ao topo da cabeça - 1/8 da altura)</small>
					</td>
					<td>
						<span class="tdresposta" id="cabeca"></span>
					</td>
					<td>
						<input type="text" id="cabecaReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="cabecaDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Cabelo - Topo do Peito:<br>
						<small>(Nascimento do cabelo ao topo do peito - 1/7 da altura)</small>
					</td>
					<td>
						<span class="tdresposta" id="cabeloPeito"></span>
					</td>
					<td>
						<input type="text" id="cabeloPeitoReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="cabeloPeitoDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Pescoço - Cabelo:<br>
						<small>(Base do pescoço às raízes do cabelo - 1/6 da altura) </small>						
					</td>
					<td>
						<span class="tdresposta" id="pescocoCabelo"></span>
					</td>
					<td>
						<input type="text" id="pescocoCabeloReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="pescocoCabeloDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Peito - Cabeça:<br>
						<small>(Meio do peito ao topo da cabeça - 1/4 da altura) </small>						
					</td>
					<td>
						<span class="tdresposta" id="peitoCabeca"></span><br>
					</td>
					<td>
						<input type="text" id="peitoCabecaReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="peitoCabecaDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Pé:<br>	
						<small>(Do calcanhar à ponta do maior dedo - 1/6 da altura) </small>						
					</td>
					<td>
						<span class="tdresposta" id="pe"></span><br>
						
					</td>
					<td>
						<input type="text" id="peReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="peDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Peito:<br>
						<small>(Largura do peito - 1/4 da altura) </small>
					</td>
					<td>
						<span class="tdresposta" id="peito"></span><br>
					</td>
					<td>
						<input type="text" id="peitoReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="peitoDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Braços abertos:<br>
						<small>(altura do corpo) </small>
					</td>
					<td>
						<span class="tdresposta" id="bracosAbertos"></span><br>
					</td>
					<td>
						<input type="text" id="bracosAbertosReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="bracosAbertosDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Cotovelo - mão:<br>
						<small>Do cotovelo à ponta da mão (1/4 da altura) </small>
					</td>
					<td>
						<span class="tdresposta" id="cotoveloMao"></span><br>
					</td>
					<td>
						<input type="text" id="cotoveloMaoReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="cotoveloMaoDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Queixo às narinas:<br>
						<small>(Base do queixo à base das narinas - 1/3 da face) </small>						
					</td>
					<td>
						<span class="tdresposta" id="queixoNarinas"></span><br>
					</td>
					<td>
						<input type="text" id="queixoNarinasReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="queixoNarinasDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Nariz:<br>
						<small>(Da base às sobrancelhas - 1/3 da face) </small>
					</td>
					<td>
						<span class="tdresposta" id="nariz"></span><br>
					</td>
					<td>
						<input type="text" id="narizReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="narizDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Orelha:<br>
						<small>(1/3 da face) </small>
					</td>
					<td>
						<span class="tdresposta" id="orelha"></span><br>
					</td>
					<td>
						<input type="text" id="orelhaReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="orelhaDiferenca"></span><br>
					</td>
				</tr>
				<tr>
					<td class="tdcampo w3-right">
						Testa:<br>		
						<small>(1/3 da face) </small>
					</td>
					<td>
						<span class="tdresposta" id="testa"></span><br>
					</td>
					<td>
						<input type="text" id="testaReal" size="5"/>
					</td>
					<td>
						<span class="tdresposta" id="testaDiferenca"></span><br>
					</td>
				</tr>
			</table>
			<div class="w3-center w3-padding-16" style="alignment: center">
				<button id="calcular" class="w3-button w3-indigo w3-small ">Calcular</button> 
				<button id="limpar" class="w3-button w3-teal w3-small">Limpar Valores</button>
			</div>
			<div class="w3-center">
				<table class="w3-table w3-padding-8" style="margin-bottom: 20px">
					<tr>
						<th>Total Ideal</th>
						<th>Total Diferença</th>
						<th colspan="2">Porcentagem de Perfeição</th>
					</tr>
					<tr>
						<td>
							<span id="totalEsperado"></span>
						</td>
						<td>
							<span id="totalDiferenca"></span>
						</td>
						<td colspan="2">
							<b><span id="porcentagemPerfeicao" class="w3-indigo w3-cicle w3-round-xxlarge" style="padding: 8px 10px 8px 10px"></span></b>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="w3-container w3-black w3-center w3-padding-32">
			<span><small>by iomltn@gmail.com - 29 de Novembro de 2017</small></span>
		</div>
	</body>
</html>